<!DOCTYPE html>
<html lang="vi"
    th:replace="~{/views/gdienChung/templateChung.html::view(~{::main}, ~{::title})}">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Trang ch·ªß - Gi·∫£ng Vi√™n</title>
    </head>

    <body>
        <main class="container py-5 home">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div th:if="${tenNguoiDung}"
                    class="d-flex align-items-center gap-2 px-3 py-2">
                    <h3 class="mb-0 text-dark">
                        üëã Xin ch√†o gi·∫£ng vi√™n, <strong
                            th:text="${tenNguoiDung}"></strong>
                    </h3>
                </div>
                <div class="d-flex align-items-center gap-2">
                    <button class="btn btn-outline-warning"
                        data-bs-toggle="modal"
                        data-bs-target="#modalHuongDanNhanh">
                        üí°
                    </button>
                    <a href="/giangvien/them-moi-khoa-hoc"
                        class="btn btn-outline-info">
                        ‚ûï Th√™m kh√≥a h·ªçc m·ªõi
                    </a>
                </div>

            </div>

            <div class="tonghop mt-5">
                <div class="stat-grid">
                    <div class="stat-card">
                        <a th:href="@{/giangvien/thong-ke-hoc-vien}"
                            style="text-decoration: none;">
                            <div class="stat-card2 hoverable"
                                style="cursor: pointer;">
                                <i class="fas fa-users"></i>
                                <h2 th:text="${tongHocVien}">0</h2>
                                <p>H·ªçc vi√™n ƒëƒÉng k√Ω</p>
                            </div>
                        </a>
                    </div>
                    <div class="stat-card">
                        <a href="/giangvien/khoa-hoc-da-tao?tab=published"
                            style="text-decoration: none;">
                            <div class="stat-card2 hoverable"
                                style="cursor: pointer;">
                                <i class="fas fa-book"></i>
                                <h2 th:text="${soKhoaHoc}">0</h2>
                                <p>Kh√≥a h·ªçc ƒëang d·∫°y</p>
                            </div>
                        </a>
                    </div>
                    <div class="stat-card">
                        <a th:href="@{/giangvien/danh-gia-tu-khoa-hoc}"
                            style="text-decoration: none;">
                            <div class="stat-card2 hoverable"
                                style="cursor: pointer;">
                                <i class="fas fa-star"></i>
                                <h2>ƒê√°nh gi√°</h2>
                                <p>Xem t·ª´ng kh√≥a h·ªçc</p>
                            </div>
                        </a>
                    </div>
                    <div class="stat-card">
                        <a th:href="@{/giangvien/vi-giang-vien}"
                            style="text-decoration: none;">
                            <div class="stat-card2 hoverable"
                                style="cursor: pointer;">
                                <i class="fas fa-coins"></i>
                                <h2
                                    th:text="${tongTienNhan != null ? #numbers.formatDecimal(tongTienNhan, 0, 'COMMA', 0, 'POINT') + '‚Ç´' : '0‚Ç´'}">0‚Ç´</h2>
                                <p>T·ªïng s·ªë d∆∞ Gi·∫£ng Vi√™n</p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <div class="empty-state">
                <div class="empty-state-icon">
                    üöÄ
                </div>
                <h2>B·∫Øt ƒë·∫ßu h√†nh tr√¨nh gi·∫£ng d·∫°y!</h2>
                <p>B·∫°n ch∆∞a c√≥ kh√≥a h·ªçc n√†o ƒëang xu·∫•t b·∫£n ho·∫∑c ch·ªù duy·ªát.<br>
                    H√£y t·∫°o kh√≥a h·ªçc ƒë·∫ßu ti√™n v√† chia s·∫ª ki·∫øn th·ª©c c·ªßa b·∫°n v·ªõi
                    th·∫ø gi·ªõi!</p>

                <div class="cta-buttons">
                    <a href="/giangvien/them-moi-khoa-hoc"
                        class="btn btn-primary-custom">
                        <i class="fas fa-plus me-2"></i>T·∫°o kh√≥a h·ªçc ƒë·∫ßu ti√™n
                    </a>
                    <button class="btn btn-secondary-custom"
                        data-bs-toggle="modal"
                        data-bs-target="#modalHuongDanNhanh">
                        <i class="fas fa-lightbulb me-2"></i>Xem h∆∞·ªõng d·∫´n
                    </button>
                </div>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <h4><i class="fas fa-video text-primary me-2"></i>T·∫°o n·ªôi
                        dung d·ªÖ d√†ng</h4>
                    <p>Upload video, t√†i li·ªáu v√† t·∫°o b√†i ki·ªÉm tra m·ªôt c√°ch ƒë∆°n
                        gi·∫£n v·ªõi giao di·ªán th√¢n thi·ªán.</p>
                </div>
                <div class="feature-card">
                    <h4><i class="fas fa-users text-success me-2"></i>Qu·∫£n l√Ω
                        h·ªçc vi√™n</h4>
                    <p>Theo d√µi ti·∫øn ƒë·ªô h·ªçc t·∫≠p, t∆∞∆°ng t√°c v·ªõi h·ªçc vi√™n v√† x√¢y
                        d·ª±ng c·ªông ƒë·ªìng h·ªçc t·∫≠p.</p>
                </div>
                <div class="feature-card">
                    <h4><i class="fas fa-chart-line text-warning me-2"></i>Th·ªëng
                        k√™ chi ti·∫øt</h4>
                    <p>Xem b√°o c√°o doanh thu, s·ªë l∆∞·ª£ng h·ªçc vi√™n v√† hi·ªáu qu·∫£ kh√≥a
                        h·ªçc m·ªôt c√°ch tr·ª±c quan.</p>
                </div>
            </div>

            <section class="mb-5 mt-3" th:if="!${#lists.isEmpty(khoaHocList)}">
                <div
                    class="section-header d-flex justify-content-between align-items-center mb-4 px-3 py-2">
                    <h4 class="fw-semibold text-dark m-0">
                        <i
                            class="bi text-info bi-journal-bookmark-fill me-2"></i>Kh√≥a
                        h·ªçc ƒë√£ xu·∫•t b·∫£n
                    </h4>
                    <a href="/giangvien/khoa-hoc-da-tao?tab=published"
                        class="btn btn-outline-info btn-sm rounded-pill d-flex align-items-center">
                        <i class="bi bi-eye me-1"></i> Xem t·∫•t c·∫£
                    </a>
                </div>

                <div class="khoa-hoc-wrapper position-relative">
                    <!-- N√∫t cu·ªôn tr√°i -->
                    <button
                        onclick="scrollKhoaHoc(-1, 'scroll-da-xuat-ban'); triggerConfetti('left')"
                        class="position-absolute start-0 top-50 translate-middle-y z-1 custom-carousel-btn">
                        <span class="carousel-control-prev-icon"
                            aria-hidden="true"></span>
                        <span class="visually-hidden">Tr∆∞·ªõc</span>
                    </button>

                    <!-- Danh s√°ch kh√≥a h·ªçc cu·ªôn ngang -->
                    <div id="scroll-da-xuat-ban"
                        class="khoa-hoc-horizontal-scroll d-flex">
                        <th:block th:each="khoaHoc : ${khoaHocList}">
                            <th:block
                                th:if="${khoaHoc.trangThai?.name() == 'PUBLISHED'}">
                                <div class="khoa-hoc-card me-3"
                                    th:onclick="|window.location.href='/noi-dung-khoa-hoc/${khoaHoc.khoahocId}?back=trang-giang-vien'|">
                                    <img th:if="${khoaHoc.anhBia != null}"
                                        th:src="${khoaHoc.anhBia}"
                                        alt="·∫¢nh kho√° h·ªçc">

                                    <div
                                        class="card-body d-flex flex-column pb-0">
                                        <h6 class="card-title"
                                            th:text="${khoaHoc.tenKhoaHoc}">T√™n
                                            kh√≥a h·ªçc
                                        </h6>
                                    </div>

                                    <div class="card-footer pt-0">
                                        <div class="mb-3">
                                            <p
                                                th:if="${khoaHoc.giaKhuyenMai != null and khoaHoc.giaKhuyenMai.doubleValue() > 0}"
                                                class="card-text mb-0">
                                                <span
                                                    class="fw-bold text-danger me-2"
                                                    th:text="${#numbers.formatDecimal(khoaHoc.giaKhuyenMai, 0, 'COMMA', 0, 'POINT') + ' ‚Ç´'}"></span>
                                                <del class="text-muted"
                                                    th:text="${#numbers.formatDecimal(khoaHoc.giagoc, 0, 'COMMA', 0, 'POINT') + ' ‚Ç´'}"></del>
                                            </p>
                                            <p
                                                th:if="${khoaHoc.giaKhuyenMai == null or khoaHoc.giaKhuyenMai.doubleValue() == 0}"
                                                class="card-text fw-bold mb-0">
                                                <span
                                                    th:text="${#numbers.formatDecimal(khoaHoc.giagoc, 0, 'COMMA', 0, 'POINT') + ' ‚Ç´'}"></span>
                                            </p>
                                        </div>

                                        <div
                                            class="d-flex justify-content-center gap-3 pb-2">
                                            <button type="button"
                                                class="btn btn-outline-primary btn-sm share-btn py-1 px-2"
                                                style="font-size: 13px; width: 45px;"
                                                data-bs-toggle="modal"
                                                th:data-bs-target="'#shareModal-' + ${khoaHoc.khoahocId}">
                                                <i
                                                    class="fas fa-share me-1"></i>
                                            </button>

                                            <button type="button"
                                                class="btn btn-outline-danger btn-sm py-1 px-2"
                                                style="font-size: 13px; width: 45px;"
                                                th:attr="data-id=${khoaHoc.khoahocId}"
                                                onclick="xoaKhoaHoc(this, event)">
                                                <i class="fas fa-trash-alt"
                                                    style="font-size: 13px;"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <!-- Modal chia s·∫ª -->
                                <div class="modal fade"
                                    th:id="'shareModal-' + ${khoaHoc.khoahocId}"
                                    tabindex="-1" aria-hidden="true">
                                    <div
                                        class="modal-dialog modal-dialog-centered">
                                        <div class="modal-content">
                                            <div class="modal-header"
                                                style="background-color: #e9f0ff; border-bottom: 2px solid #0d6efd;">
                                                <h6 class="modal-title">
                                                    <i
                                                        class="fas fa-share-alt text-primary me-2"></i>
                                                    Chia s·∫ª kh√≥a h·ªçc:
                                                    <span
                                                        th:text="${khoaHoc.tenKhoaHoc}"></span>
                                                </h6>
                                                <button type="button"
                                                    class="btn-close"
                                                    data-bs-dismiss="modal"
                                                    aria-label="Close"></button>
                                            </div>
                                            <form
                                                th:action="@{/studend/share-course}"
                                                method="post" class="ajax-form">
                                                <div class="modal-body">
                                                    <input type="hidden"
                                                        name="courseId"
                                                        th:value="${khoaHoc.khoahocId}" />
                                                    <div class="mb-3">
                                                        <label
                                                            for="recipientEmail"
                                                            class="form-label">
                                                            <i
                                                                class="fas fa-envelope text-primary me-2"></i>
                                                            Email ng∆∞·ªùi
                                                            nh·∫≠n:
                                                        </label>
                                                        <input type="email"
                                                            name="recipientEmail"
                                                            class="form-control"
                                                            style="font-size: 14px;"
                                                            required
                                                            placeholder="nhapemail@example.com">
                                                    </div>
                                                    <p style="font-size: 14px;">
                                                        <i
                                                            class="fas fa-info-circle text-info me-2"></i>
                                                        Email s·∫Ω ƒë∆∞·ª£c g·ª≠i k√®m
                                                        th√¥ng tin v√† li√™n k·∫øt
                                                        kh√≥a h·ªçc.
                                                    </p>
                                                </div>
                                                <div
                                                    class="ajax-message text-center px-3"></div>
                                                <div class="modal-footer">
                                                    <div
                                                        class="d-flex justify-content-end gap-2 w-100">
                                                        <button type="button"
                                                            class="btn btn-sm btn-outline-secondary"
                                                            data-bs-dismiss="modal">
                                                            <i
                                                                class="fas fa-times me-1"></i>
                                                            ƒê√≥ng
                                                        </button>
                                                        <button type="submit"
                                                            class="btn btn-sm fw-semibold btn-outline-primary">
                                                            <i
                                                                class="fas fa-paper-plane me-1"></i>
                                                            G·ª≠i Email
                                                        </button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </th:block>
                        </th:block>
                    </div>

                    <!-- N√∫t cu·ªôn ph·∫£i -->
                    <button
                        onclick="scrollKhoaHoc(1, 'scroll-da-xuat-ban'); triggerConfetti('right')"
                        class="custom-carousel-btn position-absolute end-0 me-4 top-50 translate-middle-y z-1">
                        <span class="carousel-control-next-icon"
                            aria-hidden="true"></span>
                        <span class="visually-hidden">Ti·∫øp</span>
                    </button>

                </div>
            </section>

            <section class="mb-5 mt-3" th:if="!${#lists.isEmpty(ListDraft)}">
                <div
                    class="section-header mb-3 px-3 py-2 border-start border-4 border-info">
                    <h4 class="fw-bold text-dark m-0">
                        <i class="bi bi-pencil-square text-info me-2"></i> Kh√≥a
                        h·ªçc b·∫£n nh√°p
                    </h4>
                </div>

                <ul class="list-group shadow-sm">
                    <th:block th:each="khoaHoc : ${ListDraft}">
                        <li
                            class="list-group-item khoa-hoc-nhap d-flex justify-content-between align-items-start">
                            <div class="ms-2 me-auto">
                                <div class="fw-semibold">
                                    <i class="bi bi-book text-primary me-1"></i>
                                    <span
                                        class="text-primary fw-semibold me-1">T√™n
                                        kh√≥a h·ªçc:</span>
                                    <span th:text="${khoaHoc.tenKhoaHoc}">T√™n
                                        kh√≥a h·ªçc</span>
                                </div>

                                <small class="text-muted">
                                    <i
                                        class="bi bi-tag-fill me-1 text-secondary"></i>
                                    M√£: <span
                                        th:text="${khoaHoc.khoahocId}"></span> |
                                    <i
                                        class="bi bi-currency-dollar me-1 text-success"></i>
                                    Gi√°: <span
                                        th:text="${#numbers.formatDecimal(khoaHoc.giagoc, 0, 'COMMA', 0, 'POINT')} + '‚Ç´'"></span>
                                </small>
                            </div>

                            <div class="d-flex align-items-center gap-2">
                                <a
                                    th:href="@{/giangvien/them-moi-khoa-hoc/them-chuong(khoahocId=${khoaHoc.khoahocId})}"
                                    class="btn btn-outline-primary rounded-pill px-2 py-0"
                                    style="height: 28px; font-size: 0.8rem;">
                                    <i
                                        class="bi bi-pencil-square me-1"></i>Ch·ªânh
                                    s·ª≠a
                                </a>

                                <button
                                    class="btn btn-outline-danger rounded-pill px-2 py-0"
                                    style="height: 28px; font-size: 0.8rem;"
                                    th:attr="data-id=${khoaHoc.khoahocId}"
                                    onclick="xoaKhoaHoc(this, event)">
                                    <i class="bi bi-trash me-1"></i>X√≥a
                                </button>
                            </div>
                        </li>
                    </th:block>
                </ul>
            </section>

            <section class="mb-5 mt-3"
                th:if="!${#lists.isEmpty(ListPendingApproval)}">
                <div
                    class="section-header mb-3 px-3 py-2 border-start border-4 border-warning">
                    <h4 class="fw-bold text-dark m-0">
                        <i class="bi bi-hourglass-split text-warning me-2"></i>
                        Kh√≥a h·ªçc ƒëang ch·ªù duy·ªát
                    </h4>
                </div>

                <ul class="list-group shadow-sm">
                    <th:block th:each="khoaHoc : ${ListPendingApproval}">
                        <li
                            class="list-group-item khoa-hoc-cho-duyet d-flex justify-content-between align-items-start">
                            <div class="ms-2 me-auto">
                                <div class="fw-semibold">
                                    <i class="bi bi-book text-primary me-1"></i>
                                    <span
                                        class="text-primary fw-semibold me-1">T√™n
                                        kh√≥a h·ªçc:</span>
                                    <span th:text="${khoaHoc.tenKhoaHoc}">T√™n
                                        kh√≥a h·ªçc</span>
                                </div>

                                <small class="text-muted">
                                    <i
                                        class="bi bi-tag-fill me-1 text-secondary"></i>
                                    M√£: <span
                                        th:text="${khoaHoc.khoahocId}"></span> |
                                    <i
                                        class="bi bi-currency-dollar me-1 text-success"></i>
                                    Gi√°: <span
                                        th:text="${#numbers.formatDecimal(khoaHoc.giagoc, 0, 'COMMA', 0, 'POINT')} + '‚Ç´'"></span>
                                </small>
                            </div>
                            <div class="d-flex align-items-center gap-2">
                                <button
                                    class="btn btn-outline-danger rounded-pill px-2 py-0"
                                    style="height: 28px; font-size: 0.8rem; line-height: 1"
                                    data-bs-toggle="modal"
                                    th:attr="data-bs-target='#modalHuyYeuCau-' + ${khoaHoc.khoahocId}">
                                    <i class="bi bi-x-circle me-1"></i>H·ªßy y√™u
                                    c·∫ßu
                                </button>

                                <span
                                    class="btn bg-warning text-dark rounded-pill d-flex align-items-center justify-content-center px-2 py-0"
                                    style="height: 28px; font-size: 0.8rem; line-height: 1">
                                    <i
                                        class="bi bi-clock-history me-1"></i>Ch·ªù
                                    duy·ªát
                                </span>
                            </div>
                        </li>
                        <!-- Modal x√°c nh·∫≠n h·ªßy y√™u c·∫ßu -->
                        <div class="modal fade"
                            th:id="'modalHuyYeuCau-' + ${khoaHoc.khoahocId}"
                            tabindex="-1">
                            <div class="modal-dialog modal-dialog-centered">
                                <div
                                    class="modal-content rounded-4 shadow-lg border-0">
                                    <div
                                        class="modal-header bg-danger text-white rounded-top-4">
                                        <h5 class="modal-title">
                                            <i
                                                class="bi bi-exclamation-triangle-fill me-2"></i>
                                            X√°c nh·∫≠n h·ªßy y√™u c·∫ßu
                                        </h5>
                                        <button type="button"
                                            class="btn-close btn-close-white"
                                            data-bs-dismiss="modal"></button>
                                    </div>
                                    <div class="modal-body text-center py-4">
                                        <i
                                            class="bi bi-x-circle-fill text-danger fs-2 mb-3"></i>
                                        <p class="mb-0">
                                            B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën <strong>h·ªßy
                                                y√™u c·∫ßu duy·ªát</strong> kh√≥a h·ªçc
                                            n√†y kh√¥ng?<br> Kh√≥a h·ªçc s·∫Ω ƒë∆∞·ª£c
                                            <strong>chuy·ªÉn v·ªÅ b·∫£n nh√°p</strong>.
                                        </p>
                                    </div>
                                    <div
                                        class="modal-footer justify-content-center bg-light rounded-bottom-4">
                                        <button type="button"
                                            class="btn btn-outline-secondary px-4"
                                            data-bs-dismiss="modal">
                                            Kh√¥ng
                                        </button>
                                        <form
                                            th:action="@{/giang-vien/huy-yeu-cau/{id}(id=${khoaHoc.khoahocId})}"
                                            method="post">
                                            <button type="submit"
                                                class="btn btn-outline-danger px-4">
                                                ƒê·ªìng √Ω
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </th:block>
                </ul>
            </section>

            <!-- Modal x√°c nh·∫≠n x√≥a -->
            <div class="modal fade" id="modalXacNhanXoa" tabindex="-1"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content border-danger">
                        <div class="modal-header bg-danger text-white">
                            <h5 class="modal-title">
                                <i
                                    class="fas fa-exclamation-triangle text-warning me-2"></i>X√°c
                                nh·∫≠n x√≥a kh√≥a h·ªçc üîÅ
                            </h5>
                            <button type="button"
                                class="btn-close btn-close-white"
                                data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <i
                                class="fas fa-question-circle text-primary me-2"></i>
                            B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a kh√≥a h·ªçc n√†y kh√¥ng? H√†nh
                            ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.
                        </div>
                        <div class="modal-footer">
                            <button type="button"
                                class="btn btn-outline-secondary"
                                data-bs-dismiss="modal">
                                <i class="fas fa-times me-1"></i> H·ªßy
                            </button>
                            <button type="button" class="btn btn-outline-danger"
                                id="btnXacNhanXoa">
                                <i class="fas fa-trash-alt me-1"></i> X√≥a
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Th√¥ng b√°o -->
            <div class="modal fade" id="modalThongBao" tabindex="-1"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header text-white"
                            style="background-color: #130377;">
                            <h6 class="modal-title">
                                <i
                                    class="fas fa-exclamation-circle text-warning me-2"></i>Th√¥ng
                                b√°o b·∫°n v·ª´a x√≥a 1 üîÅ kh√≥a h·ªçc
                            </h6>
                            <button type="button" class="btn-close"
                                data-bs-dismiss="modal"
                                aria-label="ƒê√≥ng"></button>
                        </div>
                        <div class="modal-body text-center">
                            <!-- N·ªôi dung s·∫Ω ƒë∆∞·ª£c thay b·∫±ng JS -->
                            ...
                        </div>
                        <div class="modal-footer">
                            <button type="button"
                                class="btn btn-outline-secondary"
                                data-bs-dismiss="modal">
                                <i class="fas fa-times me-1"></i> ƒê√≥ng
                            </button>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Modal x√°c nh·∫≠n ƒë√£ h·ªßy -->
            <div class="modal fade" id="daHuyModal" tabindex="-1"
                aria-labelledby="daHuyModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header bg-primary text-white">
                            <h5 class="modal-title d-flex align-items-center"
                                id="daHuyModalLabel">
                                <i class="bi bi-bookmark-check-fill me-2"></i>
                                Th√¥ng b√°o h·ªßy y√™u c·∫ßu duy·ªát!
                            </h5>
                            <button type="button" class="btn-close text-white"
                                data-bs-dismiss="modal"
                                aria-label="ƒê√≥ng"></button>
                        </div>
                        <div class="modal-body text-center">
                            <i
                                class="bi bi-check-circle-fill text-success fs-6 me-1"></i>
                            <span>
                                Kh√≥a h·ªçc c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c l∆∞u v√†o <strong>Danh
                                    s√°ch b·∫£n nh√°p</strong>.<br>
                                B·∫°n c√≥ th·ªÉ truy c·∫≠p ƒë·ªÉ ti·∫øp t·ª•c ch·ªânh s·ª≠a kh√≥a
                                h·ªçc!
                            </span>
                        </div>

                        <div class="modal-footer">
                            <button type="button"
                                class="btn btn-outline-secondary"
                                data-bs-dismiss="modal">
                                <i class="bi bi-x-circle me-1"></i>ƒê√≥ng
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal H∆∞·ªõng d·∫´n nhanh -->
            <div class="modal fade" id="modalHuongDanNhanh" tabindex="-1"
                aria-labelledby="huongDanLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-lg">
                    <div class="modal-content shadow border-0 rounded-4">
                        <div class="modal-header text-white rounded-top-4"
                            style="background-color: #130377;">
                            <h5
                                class="modal-title d-flex align-items-center gap-2"
                                id="huongDanLabel">
                                <i class="bi bi-lightbulb-fill fs-4"></i> H∆∞·ªõng
                                d·∫´n nhanh cho gi·∫£ng vi√™n
                            </h5>
                            <button type="button"
                                class="btn-close btn-close-white"
                                data-bs-dismiss="modal"
                                aria-label="ƒê√≥ng"></button>
                        </div>
                        <div class="modal-body px-4 py-3">
                            <ul class="list-unstyled">
                                <li class="d-flex align-items-start mb-3">
                                    <i
                                        class="bi bi-plus-circle-fill text-primary me-3 fs-5"></i>
                                    <div>
                                        <strong>T·∫°o kh√≥a h·ªçc:</strong> V√†o m·ª•c
                                        <strong>"T·∫°o kh√≥a h·ªçc"</strong> ƒë·ªÉ th√™m
                                        b√†i gi·∫£ng m·ªõi v√† thi·∫øt l·∫≠p n·ªôi dung.
                                    </div>
                                </li>
                                <li class="d-flex align-items-start mb-3">
                                    <i
                                        class="bi bi-people-fill text-success me-3 fs-5"></i>
                                    <div>
                                        <strong>Qu·∫£n l√Ω h·ªçc vi√™n:</strong> Theo
                                        d√µi v√† qu·∫£n l√Ω h·ªçc vi√™n ƒë√£ ƒëƒÉng k√Ω trong
                                        ph·∫ßn
                                        <strong>"Qu·∫£n l√Ω h·ªçc vi√™n"</strong>.
                                    </div>
                                </li>
                                <li class="d-flex align-items-start mb-3">
                                    <i
                                        class="bi bi-chat-left-dots-fill text-warning me-3 fs-5"></i>
                                    <div>
                                        <strong>Ph·∫£n h·ªìi ƒë√°nh gi√°:</strong> Xem
                                        v√† tr·∫£ l·ªùi nh·∫≠n x√©t c·ªßa h·ªçc vi√™n t·∫°i m·ª•c
                                        <strong>"ƒê√°nh gi√°"</strong>.
                                    </div>
                                </li>
                                <li class="d-flex align-items-start mb-1">
                                    <i
                                        class="bi bi-bar-chart-line-fill text-danger me-3 fs-5"></i>
                                    <div>
                                        <strong>Th·ªëng k√™:</strong> Theo d√µi hi·ªáu
                                        su·∫•t kh√≥a h·ªçc v√† thu nh·∫≠p t·∫°i m·ª•c
                                        <strong>"Th·ªëng k√™"</strong>.
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="modal-footer bg-light rounded-bottom-4">
                            <button type="button"
                                class="btn btn-secondary d-flex align-items-center gap-1"
                                data-bs-dismiss="modal">
                                <i class="bi bi-x-circle-fill"></i> ƒê√≥ng
                            </button>
                        </div>

                    </div>
                </div>
            </div>

            <script
                src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
            <script>
            function scrollKhoaHoc(direction, scrollId) {
                const container = document.getElementById(scrollId);
                const scrollAmount = 300;
                if (container) {
                    container.scrollBy({
                        left: direction * scrollAmount,
                        behavior: 'smooth'
                    });
                }
            }


            function triggerConfetti(side) {
                confetti({
                    particleCount: 80,
                    spread: 70,
                    origin: {
                        x: side === 'left' ? 0.1 : 0.9,
                        y: 0.5
                    }
                });
            }
        </script>

            <script>
            let khoaHocIdCanXoa = null;

            function xoaKhoaHoc(button, event) {
                event.stopPropagation();
                khoaHocIdCanXoa = button.getAttribute("data-id");

                const modal = new bootstrap.Modal(document.getElementById('modalXacNhanXoa'));
                modal.show();
            }

            document.addEventListener("DOMContentLoaded", () => {
                const btnXacNhanXoa = document.getElementById("btnXacNhanXoa");

                btnXacNhanXoa.addEventListener("click", () => {
                    if (!khoaHocIdCanXoa) return;

                    fetch(`/giangvien/xoa-khoa-hoc/${khoaHocIdCanXoa}`, {
                            method: 'POST'
                        })
                        .then(response => response.json())
                        .then(data => {
                            const modal = new bootstrap.Modal(document.getElementById('modalThongBao'));
                            document.querySelector('#modalThongBao .modal-body').textContent = data.message;
                            modal.show();

                            // ƒê√≥ng modal x√°c nh·∫≠n x√≥a
                            bootstrap.Modal.getInstance(document.getElementById('modalXacNhanXoa')).hide();

                            if (data.success) {
                                setTimeout(() => location.reload(), 5000);
                            }
                        })
                        .catch(error => {
                            console.error('L·ªói khi x√≥a kh√≥a h·ªçc:', error);
                        });
                });
            });
        </script>

            <script th:inline="javascript">
            document.addEventListener("DOMContentLoaded", function() {
                let daHuy = /*[[${daHuy}]]*/ false;
                if (daHuy) {
                    let myModal = new bootstrap.Modal(document.getElementById('daHuyModal'));
                    myModal.show();

                    // ‚úÖ X√≥a query string "?daHuy=true" kh·ªèi URL sau khi hi·ªÉn th·ªã modal
                    const url = new URL(window.location);
                    url.searchParams.delete("daHuy");
                    window.history.replaceState({}, "", url.pathname + url.search);
                }
            });
        </script>
            <script>
            if (sessionStorage.getItem("isGoingBack") === "true") {
                localStorage.removeItem("customBackUrl");
                sessionStorage.removeItem("isGoingBack");
            }
        </script>

        </main>
    </body>

</html>